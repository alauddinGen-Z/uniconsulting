(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42009,e=>{"use strict";let t=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],42009)},20278,e=>{"use strict";let t=(0,e.i(75254).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],20278)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},60914,e=>{"use strict";var t=e.i(43476),s=e.i(61911),a=e.i(32095),l=e.i(78583),r=e.i(3116),i=e.i(25652),n=e.i(87316),d=e.i(45423),o=e.i(94983),c=e.i(63059),x=e.i(83086),p=e.i(20278),h=e.i(42009),m=e.i(90615),u=e.i(46932),g=e.i(66027);let v=e=>{let t=Math.floor((new Date().getTime()-e.getTime())/1e3);if(t<60)return"Just now";let s=Math.floor(t/60);if(s<60)return`${s}m ago`;let a=Math.floor(s/60);if(a<24)return`${a}h ago`;let l=Math.floor(a/24);return l<7?`${l}d ago`:e.toLocaleDateString()};function f(){let e=(0,m.createClient)(),{data:f,isLoading:b}=(0,g.useQuery)({queryKey:["teacher","dashboard"],queryFn:async()=>{let{data:{user:t}}=await e.auth.getUser();if(!t)throw Error("Not authenticated");let{data:s}=await e.from("profiles").select("id, full_name, approval_status, created_at").eq("teacher_id",t.id).eq("role","student"),a=s?.length||0,l=s?.filter(e=>"pending"===e.approval_status).length||0,r=s?.filter(e=>"approved"===e.approval_status).length||0,i=s?.map(e=>e.id)||[],n=0;if(i.length>0){let{count:t}=await e.from("documents").select("*",{count:"exact",head:!0}).in("student_id",i);n=t||0}let d=[];if(i.length>0){let{data:t}=await e.from("student_universities").select("id, university_name, deadline_date, deadline_type, student_id").in("student_id",i).gte("deadline_date",new Date().toISOString().split("T")[0]).order("deadline_date",{ascending:!0}).limit(5);t&&(d=t.map(e=>{let t=s?.find(t=>t.id===e.student_id),a=Math.ceil((new Date(e.deadline_date).getTime()-new Date().getTime())/864e5);return{id:e.id,universityName:e.university_name,studentName:t?.full_name||"Unknown",date:e.deadline_date,daysLeft:a,type:e.deadline_type}}))}let o=[];if((s?.filter(e=>{let t=new Date(e.created_at);return(new Date().getTime()-t.getTime())/864e5<=7})||[]).forEach(e=>{o.push({id:`student-${e.id}`,type:"approval",title:"pending"===e.approval_status?"New Student Signup":"Student Approved",description:`${e.full_name} ${"pending"===e.approval_status?"is waiting for approval":"joined your roster"}`,time:v(new Date(e.created_at)),studentName:e.full_name})}),i.length>0){let{data:t}=await e.from("documents").select("id, type, created_at, student_id").in("student_id",i).order("created_at",{ascending:!1}).limit(5);t?.forEach(e=>{let t=s?.find(t=>t.id===e.student_id);o.push({id:`doc-${e.id}`,type:"document",title:"Document Uploaded",description:`${t?.full_name||"A student"} uploaded ${e.type}`,time:v(new Date(e.created_at)),studentName:t?.full_name})})}return{stats:{totalStudents:a,pendingApprovals:l,approvedStudents:r,totalDocuments:n,completedApplications:0,upcomingDeadlines:d.length},activities:o.slice(0,8),deadlines:d}},staleTime:3e5}),j=f?.stats||{totalStudents:0,pendingApprovals:0,approvedStudents:0,totalDocuments:0,completedApplications:0,upcomingDeadlines:0},N=f?.activities||[],w=f?.deadlines||[];return b?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"relative rounded-3xl overflow-hidden bg-gradient-to-r from-orange-600 to-red-600 p-8 text-white shadow-2xl",children:[(0,t.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-white rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 mix-blend-overlay"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-white rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 mix-blend-overlay"})]}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md rounded-full px-3 py-1 mb-3 border border-white/20",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-orange-300"}),(0,t.jsx)("span",{className:"text-xs font-medium text-white",children:"Teacher Console"})]}),(0,t.jsx)("h1",{className:"text-4xl font-black mb-2 tracking-tight",children:"Welcome back! ðŸ‘‹"}),(0,t.jsxs)("p",{className:"text-orange-50 text-lg",children:["You have ",(0,t.jsx)("span",{className:"font-bold underline decoration-orange-300 underline-offset-4",children:j.pendingApprovals>0?`${j.pendingApprovals} pending approval${j.pendingApprovals>1?"s":""}`:"no pending tasks"})," to review today."]})]}),(0,t.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 flex gap-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-3xl font-black",children:j.totalStudents}),(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider opacity-70",children:"Total Students"})]}),(0,t.jsx)("div",{className:"w-px bg-white/20"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-3xl font-black",children:j.upcomingDeadlines}),(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider opacity-70",children:"Deadlines"})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Students",value:j.totalStudents,icon:s.Users,color:"blue",sub:"Active Roster"},{label:"Pending",value:j.pendingApprovals,icon:r.Clock,color:"orange",sub:"Needs Approval"},{label:"Documents",value:j.totalDocuments,icon:l.FileText,color:"emerald",sub:"Uploaded"},{label:"Deadlines",value:j.upcomingDeadlines,icon:p.Target,color:"purple",sub:"Upcoming"}].map((e,s)=>(0,t.jsxs)(u.motion.div,{whileHover:{y:-5},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"bg-white rounded-2xl p-5 border border-slate-100 shadow-sm hover:shadow-xl transition-all duration-300",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl bg-${e.color}-50 text-${e.color}-600 w-fit mb-4`,children:(0,t.jsx)(e.icon,{className:"w-6 h-6"})}),(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e.label}),(0,t.jsx)("p",{className:"font-black text-slate-900 text-3xl",children:e.value}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:e.sub})]},s))}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg",children:(0,t.jsx)(i.TrendingUp,{className:"w-5 h-5 text-slate-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Recent Activity"})]}),(0,t.jsxs)("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 text-slate-500 rounded-lg",children:[N.length," updates"]})]}),(0,t.jsx)("div",{className:"divide-y divide-slate-100 max-h-[400px] overflow-y-auto",children:0===N.length?(0,t.jsxs)("div",{className:"p-12 text-center",children:[(0,t.jsx)(d.Bell,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),(0,t.jsx)("p",{className:"text-slate-500 font-medium",children:"No recent activity"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Activity from your students will appear here"})]}):N.map((e,r)=>(0,t.jsx)(u.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},className:"p-4 hover:bg-slate-50 transition-colors cursor-pointer group",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-transform group-hover:scale-110 ${(e=>{switch(e){case"document":return"bg-blue-100 text-blue-600";case"application":return"bg-purple-100 text-purple-600";case"message":return"bg-green-100 text-green-600";case"approval":return"bg-orange-100 text-orange-600";case"essay":return"bg-pink-100 text-pink-600";default:return"bg-slate-100 text-slate-600"}})(e.type)}`,children:(e=>{switch(e){case"document":return(0,t.jsx)(l.FileText,{className:"w-5 h-5"});case"application":return(0,t.jsx)(a.GraduationCap,{className:"w-5 h-5"});case"message":return(0,t.jsx)(o.MessageCircle,{className:"w-5 h-5"});case"approval":return(0,t.jsx)(s.Users,{className:"w-5 h-5"});case"essay":return(0,t.jsx)(x.Sparkles,{className:"w-5 h-5"});default:return(0,t.jsx)(d.Bell,{className:"w-5 h-5"})}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-500 truncate group-hover:text-slate-700",children:e.description})]}),(0,t.jsx)("span",{className:"text-xs text-slate-400 whitespace-nowrap bg-slate-100 px-2 py-1 rounded-full",children:e.time})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(n.Calendar,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Deadlines"})]})}),(0,t.jsx)("div",{className:"divide-y divide-slate-100 flex-1 overflow-y-auto",children:0===w.length?(0,t.jsxs)("div",{className:"p-8 text-center h-full flex flex-col items-center justify-center",children:[(0,t.jsx)(n.Calendar,{className:"w-10 h-10 mx-auto mb-2 text-slate-300"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"No upcoming deadlines"})]}):w.map((e,s)=>(0,t.jsx)(u.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"p-4 hover:bg-slate-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shadow-sm ${e.daysLeft<=7?"bg-red-100 text-red-600":e.daysLeft<=14?"bg-amber-100 text-amber-600":"bg-green-100 text-green-600"}`,children:[e.daysLeft,"d"]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900 truncate",children:e.universityName}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.studentName})]}),(0,t.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${"early_decision"===e.type?"bg-purple-100 text-purple-600":"early_action"===e.type?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:e.type.replace("_"," ")})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)("button",{className:"bg-white rounded-2xl p-5 shadow-lg border border-slate-100 hover:shadow-xl hover:border-orange-200 transition-all group active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-orange-100 text-orange-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(s.Users,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"View Students"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Manage roster"})]}),(0,t.jsx)(c.ChevronRight,{className:"w-5 h-5 text-slate-300 ml-auto group-hover:text-orange-500 group-hover:translate-x-1 transition-all"})]})}),(0,t.jsx)("button",{className:"bg-white rounded-2xl p-5 shadow-lg border border-slate-100 hover:shadow-xl hover:border-purple-200 transition-all group active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(o.MessageCircle,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"Messages"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Chat with students"})]}),(0,t.jsx)(c.ChevronRight,{className:"w-5 h-5 text-slate-300 ml-auto group-hover:text-purple-500 group-hover:translate-x-1 transition-all"})]})}),(0,t.jsx)("button",{className:"bg-white rounded-2xl p-5 shadow-lg border border-slate-100 hover:shadow-xl hover:border-blue-200 transition-all group active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(l.FileText,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"Documents"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Review uploads"})]}),(0,t.jsx)(c.ChevronRight,{className:"w-5 h-5 text-slate-300 ml-auto group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]})}),(0,t.jsx)("button",{className:"bg-white rounded-2xl p-5 shadow-lg border border-slate-100 hover:shadow-xl hover:border-green-200 transition-all group active:scale-95",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-100 text-green-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(h.Award,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-900",children:"Automation"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Fill applications"})]}),(0,t.jsx)(c.ChevronRight,{className:"w-5 h-5 text-slate-300 ml-auto group-hover:text-green-500 group-hover:translate-x-1 transition-all"})]})})]})]})}function b(){return(0,t.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,t.jsx)(f,{})})}e.s(["default",()=>b],60914)}]);