(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45423,66027,e=>{"use strict";let t,r=(0,e.i(75254).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>r],45423);var s=e.i(75555),a=e.i(40143),l=e.i(86491),i=e.i(15823),n=e.i(93803),o=e.i(19273),c=e.i(80166),d=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,n.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#a=void 0;#l=void 0;#i;#n;#r;#t;#o;#c;#d;#u;#h;#p;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),u(this.#s,this.options)?this.#x():this.updateResult(),this.#m())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#g(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#y(),this.#s.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&p(this.#s,r,this.options,t)&&this.#x(),this.updateResult(),s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||(0,o.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,o.resolveStaleTime)(t.staleTime,this.#s))&&this.#v();let a=this.#j();s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||a!==this.#p)&&this.#w(a)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(s,e);return t=this,r=a,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#l=a,this.#n=this.options,this.#i=this.#s.state),a}getCurrentResult(){return this.#l}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#x({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#l))}#x(e){this.#y();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#v(){this.#b();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#s);if(o.isServer||this.#l.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#l.dataUpdatedAt,e);this.#u=c.timeoutManager.setTimeout(()=>{this.#l.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#w(e){this.#g(),this.#p=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#s)&&(0,o.isValidTimeout)(this.#p)&&0!==this.#p&&(this.#h=c.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#x()},this.#p))}#m(){this.#v(),this.#w(this.#j())}#b(){this.#u&&(c.timeoutManager.clearTimeout(this.#u),this.#u=void 0)}#g(){this.#h&&(c.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,a=this.options,i=this.#l,c=this.#i,d=this.#n,h=e!==s?e.state:this.#a,{state:x}=e,m={...x},b=!1;if(t._optimisticResults){let r=this.hasListeners(),i=!r&&u(e,t),n=r&&p(e,s,t,a);(i||n)&&(m={...m,...(0,l.fetchState)(x.data,e.options)}),"isRestoring"===t._optimisticResults&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=m;r=m.data;let j=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===v){let e;i?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=i.data,j=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,void 0!==e&&(v="success",r=(0,o.replaceData)(i?.data,e,t),b=!0)}if(t.select&&void 0!==r&&!j)if(i&&r===c?.data&&t.select===this.#o)r=this.#c;else try{this.#o=t.select,r=t.select(r),r=(0,o.replaceData)(i?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(g=this.#t,r=this.#c,y=Date.now(),v="error");let w="fetching"===m.fetchStatus,k="pending"===v,N="error"===v,C=k&&w,_=void 0!==r,R={status:v,fetchStatus:m.fetchStatus,isPending:k,isSuccess:"success"===v,isError:N,isInitialLoading:C,isLoading:C,data:r,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:w,isRefetching:w&&!k,isLoadingError:N&&!_,isPaused:"paused"===m.fetchStatus,isPlaceholderData:b,isRefetchError:N&&_,isStale:f(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===R.status?e.reject(R.error):void 0!==R.data&&e.resolve(R.data)},r=()=>{t(this.#r=R.promise=(0,n.pendingThenable)())},a=this.#r;switch(a.status){case"pending":e.queryHash===s.queryHash&&t(a);break;case"fulfilled":("error"===R.status||R.data!==a.value)&&r();break;case"rejected":("error"!==R.status||R.error!==a.reason)&&r()}}return R}updateResult(){let e=this.#l,t=this.createResult(this.#s,this.options);if(this.#i=this.#s.state,this.#n=this.options,void 0!==this.#i.data&&(this.#d=this.#s),(0,o.shallowEqualObjects)(t,e))return;this.#l=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#f.size)return!0;let s=new Set(r??this.#f);return this.options.throwOnError&&s.add("error"),Object.keys(this.#l).some(t=>this.#l[t]!==e[t]&&s.has(t))};this.#k({listeners:r()})}#y(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#m()}#k(e){a.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#l)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&f(e,t)}return!1}function p(e,t,r,s){return(e!==t||!1===(0,o.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(47167);var x=e.i(71645),m=e.i(12598);e.i(43476);var b=x.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=x.createContext(!1);g.Provider;var y=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function v(e,t){return function(e,t,r){let s=x.useContext(g),l=x.useContext(b),i=(0,m.useQueryClient)(r),n=i.defaultQueryOptions(e);if(i.getDefaultOptions().queries?._experimental_beforeQuery?.(n),n._optimisticResults=s?"isRestoring":"optimistic",n.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=n.staleTime;n.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof n.gcTime&&(n.gcTime=Math.max(n.gcTime,1e3))}(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&!l.isReset()&&(n.retryOnMount=!1),x.useEffect(()=>{l.clearReset()},[l]);let c=!i.getQueryCache().get(n.queryHash),[d]=x.useState(()=>new t(i,n)),u=d.getOptimisticResult(n),h=!s&&!1!==e.subscribed;if(x.useSyncExternalStore(x.useCallback(e=>{let t=h?d.subscribe(a.notifyManager.batchCalls(e)):o.noop;return d.updateResult(),t},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(n)},[n,d]),n?.suspense&&u.isPending)throw y(n,d,l);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||(0,o.shouldThrowError)(r,[e.error,s])))({result:u,errorResetBoundary:l,throwOnError:n.throwOnError,query:i.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw u.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(n,u),n.experimental_prefetchInRender&&!o.isServer&&u.isLoading&&u.isFetching&&!s){let e=c?y(n,d,l):i.getQueryCache().get(n.queryHash)?.promise;e?.catch(o.noop).finally(()=>{d.updateResult()})}return n.notifyOnChangeProps?u:d.trackResult(u)}(e,d,t)}e.s(["useQuery",()=>v],66027)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),s=e.i(31178),a=e.i(47414),l=e.i(74008),i=e.i(21476),n=e.i(72846),o=r,c=e.i(37806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,n.isHTMLElement)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:s,anchorX:a,root:l}){let i=(0,o.useId)(),n=(0,o.useRef)(null),h=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,o.useContext)(c.MotionConfigContext),f=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=d(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(n,e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:c}=h.current;if(s||!n.current||!e||!t)return;let d="left"===a?`left: ${o}`:`right: ${c}`;n.current.dataset.motionPopId=i;let u=document.createElement("style");p&&(u.nonce=p);let f=l??document.head;return f.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${r}px !important;
          }
        `),()=>{f.contains(u)&&f.removeChild(u)}},[s]),(0,t.jsx)(u,{isPresent:s,childRef:n,sizeRef:h,children:o.cloneElement(e,{ref:f})})}let p=({children:e,initial:s,isPresent:l,onExitComplete:n,custom:o,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let x=(0,a.useConstant)(f),m=(0,r.useId)(),b=!0,g=(0,r.useMemo)(()=>(b=!1,{id:m,initial:s,isPresent:l,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;n&&n()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,n]);return c&&b&&(g={...g}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),r.useEffect(()=>{l||x.size||!n||n()},[l]),"popLayout"===d&&(e=(0,t.jsx)(h,{isPresent:l,anchorX:u,root:p,children:e})),(0,t.jsx)(i.PresenceContext.Provider,{value:g,children:e})};function f(){return new Map}var x=e.i(64978);let m=e=>e.key||"";function b(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:i,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:h="left",root:f})=>{let[g,y]=(0,x.usePresence)(u),v=(0,r.useMemo)(()=>b(e),[e]),j=u&&!g?[]:v.map(m),w=(0,r.useRef)(!0),k=(0,r.useRef)(v),N=(0,a.useConstant)(()=>new Map),[C,_]=(0,r.useState)(v),[R,E]=(0,r.useState)(v);(0,l.useIsomorphicLayoutEffect)(()=>{w.current=!1,k.current=v;for(let e=0;e<R.length;e++){let t=m(R[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[R,j.length,j.join("-")]);let S=[];if(v!==C){let e=[...v];for(let t=0;t<R.length;t++){let r=R[t],s=m(r);j.includes(s)||(e.splice(t,0,r),S.push(r))}return"wait"===d&&S.length&&(e=S),E(b(e)),_(v),null}let{forceRender:T}=(0,r.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:R.map(e=>{let r=m(e),s=(!u||!!g)&&(v===R||j.includes(r));return(0,t.jsx)(p,{isPresent:s,initial:(!w.current||!!n)&&void 0,custom:i,presenceAffectsLayout:c,mode:d,root:f,onExitComplete:s?void 0:()=>{if(!N.has(r))return;N.set(r,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(T?.(),E(k.current),u&&y?.(),o&&o())},anchorX:h,children:e},r)})})};e.s(["AnimatePresence",()=>g],88653)},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...a,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:s("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),i=(e,a)=>{let i=(0,t.forwardRef)(({className:i,...n},o)=>(0,t.createElement)(l,{ref:o,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=r(e),i};e.s(["default",()=>i],75254)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},32095,e=>{"use strict";let t=(0,e.i(75254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>t],32095)},18566,(e,t,r)=>{t.exports=e.r(76562)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>t],43432)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],83086)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},94983,e=>{"use strict";let t=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],94983)},92270,e=>{"use strict";let t=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],92270)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},39616,9884,85280,99357,71768,53336,92161,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>r],39616);var s=e.i(43476),a=e.i(71645),l=e.i(37727),i=e.i(84614),n=e.i(63488),o=e.i(43432),c=e.i(48256),d=e.i(32095),u=e.i(43531),h=e.i(31278),p=e.i(68553),f=e.i(90615),x=e.i(46696);function m({isOpen:e,onClose:t}){let[r,m]=(0,a.useState)(null),[g,y]=(0,a.useState)(!0),[v,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[N,C]=(0,a.useState)({full_name:"",phone:"",date_of_birth:"",preferred_country:"",preferred_university:""}),_=(0,f.createClient)();(0,a.useEffect)(()=>{e&&R()},[e]);let R=async()=>{y(!0);try{let{data:{user:e}}=await _.auth.getUser();if(!e)return;let{data:t,error:r}=await _.from("profiles").select("*").eq("id",e.id).single();if(r)throw r;let s={...t,email:e.email||t.email};if("student"===t.role&&t.teacher_id){let{data:e}=await _.from("profiles").select("full_name").eq("id",t.teacher_id).single();s.teacher_name=e?.full_name||"Unknown"}if("teacher"===t.role){let{count:t}=await _.from("profiles").select("*",{count:"exact",head:!0}).eq("teacher_id",e.id).eq("role","student");s.student_count=t||0}m(s),C({full_name:t.full_name||"",phone:t.phone||"",date_of_birth:t.date_of_birth||"",preferred_country:t.preferred_country||"",preferred_university:t.preferred_university||""})}catch(e){console.error("Error fetching profile:",e),x.toast.error("Failed to load profile")}finally{y(!1)}},E=async()=>{if(r){j(!0);try{let e={full_name:N.full_name,phone:N.phone};"student"===r.role&&(e.date_of_birth=N.date_of_birth||null,e.preferred_country=N.preferred_country||null,e.preferred_university=N.preferred_university||null);let{error:t}=await _.from("profiles").update(e).eq("id",r.id);if(t)throw t;m({...r,...N}),k(!1),x.toast.success("Profile updated successfully")}catch(e){console.error("Error saving profile:",e),x.toast.error("Failed to save profile")}finally{j(!1)}}};return e?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,s.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 fade-in duration-200",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-pink-500 p-6 text-white",children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:(0,s.jsx)(l.X,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center text-3xl font-bold border-4 border-white/30",children:r?.full_name?.charAt(0)||"?"}),(0,s.jsx)("button",{className:"absolute bottom-0 right-0 p-1.5 bg-white rounded-full text-orange-500 shadow-lg hover:scale-110 transition-transform",children:(0,s.jsx)(p.Camera,{className:"w-3 h-3"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:r?.full_name||"Loading..."}),(0,s.jsx)("p",{className:"text-white/80 text-sm capitalize flex items-center gap-2",children:r?.role==="teacher"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.GraduationCap,{className:"w-4 h-4"})," Teacher"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.User,{className:"w-4 h-4"})," Student"]})})]})]})]}),(0,s.jsx)("div",{className:"p-6",children:g?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,s.jsx)("div",{className:"space-y-4",children:w?(0,s.jsxs)("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Full Name"}),(0,s.jsx)("input",{value:N.full_name,onChange:e=>C({...N,full_name:e.target.value}),className:"w-full mt-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Phone"}),(0,s.jsx)("input",{value:N.phone,onChange:e=>C({...N,phone:e.target.value}),className:"w-full mt-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none",placeholder:"+1 234 567 8900"})]}),r?.role==="student"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Date of Birth"}),(0,s.jsx)("input",{type:"date",value:N.date_of_birth,onChange:e=>C({...N,date_of_birth:e.target.value}),className:"w-full mt-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Preferred Country"}),(0,s.jsxs)("select",{value:N.preferred_country,onChange:e=>C({...N,preferred_country:e.target.value}),className:"w-full mt-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none bg-white",children:[(0,s.jsx)("option",{value:"",children:"-- Select Country --"}),(0,s.jsx)("option",{value:"USA",children:"United States"}),(0,s.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,s.jsx)("option",{value:"Canada",children:"Canada"}),(0,s.jsx)("option",{value:"Australia",children:"Australia"}),(0,s.jsx)("option",{value:"Germany",children:"Germany"}),(0,s.jsx)("option",{value:"Netherlands",children:"Netherlands"}),(0,s.jsx)("option",{value:"Singapore",children:"Singapore"}),(0,s.jsx)("option",{value:"Japan",children:"Japan"}),(0,s.jsx)("option",{value:"South Korea",children:"South Korea"}),(0,s.jsx)("option",{value:"China",children:"China"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Target University"}),(0,s.jsx)("input",{value:N.preferred_university,onChange:e=>C({...N,preferred_university:e.target.value}),className:"w-full mt-1 px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none",placeholder:"e.g., Harvard, MIT, Oxford"})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(b,{icon:n.Mail,label:"Email",value:r?.email}),(0,s.jsx)(b,{icon:o.Phone,label:"Phone",value:r?.phone||"Not set"})]}),r?.role==="student"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(b,{icon:c.Globe,label:"Preferred Country",value:r?.preferred_country||"Not set"}),(0,s.jsx)(b,{icon:d.GraduationCap,label:"Target University",value:r?.preferred_university||"Not set"})]}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Assigned Teacher"}),(0,s.jsx)("p",{className:"font-medium text-slate-800",children:r?.teacher_name})]}),(0,s.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${r?.approval_status==="approved"?"bg-green-100 text-green-700":r?.approval_status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:r?.approval_status||"pending"})]})]}),r?.role==="teacher"&&(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-pink-50 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Total Students"}),(0,s.jsx)("p",{className:"text-3xl font-black text-orange-600",children:r?.student_count})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Member Since"}),(0,s.jsx)("p",{className:"font-medium text-slate-700",children:r?.created_at?new Date(r.created_at).toLocaleDateString():"â€”"})]})]})})]})})}),(0,s.jsx)("div",{className:"px-6 pb-6 flex gap-3",children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>k(!1),className:"flex-1 py-3 rounded-xl border border-slate-200 font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{onClick:E,disabled:v,className:"flex-1 py-3 rounded-xl bg-orange-500 text-white font-bold hover:bg-orange-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[v?(0,s.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(u.Check,{className:"w-4 h-4"}),"Save"]})]}):(0,s.jsx)("button",{onClick:()=>k(!0),className:"w-full py-3 rounded-xl bg-slate-100 font-bold text-slate-700 hover:bg-slate-200 transition-colors",children:"Edit Profile"})})]})]}):null}function b({icon:e,label:t,value:r}){return(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-500",children:(0,s.jsx)(e,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t}),(0,s.jsx)("p",{className:"font-medium text-slate-800 text-sm",children:r})]})]})}e.s(["default",()=>m],9884);let g=(0,t.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var y=e.i(45423);let v=(0,t.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var j=e.i(27612),w=e.i(86536);let k=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var N=e.i(78894),C=e.i(18566),_=e.i(33499);function R({isOpen:e,onClose:t}){let[r,i]=(0,a.useState)("password"),[n,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[b,R]=(0,a.useState)(!1),[T,M]=(0,a.useState)(!1),[Q,I]=(0,a.useState)(!1),[q,O]=(0,a.useState)(""),[U,P]=(0,a.useState)(!1),[F,L]=(0,a.useState)({email:!0,approvals:!0,updates:!1}),A=(0,f.createClient)(),D=(0,C.useRouter)(),{language:z,setLanguage:$,t:H}=(0,_.useLanguage)(),K=async()=>{if(!c||!p)return void x.toast.error("Please fill in all password fields");if(c!==p)return void x.toast.error("Passwords do not match");if(c.length<6)return void x.toast.error("Password must be at least 6 characters");M(!0);try{let{error:e}=await A.auth.updateUser({password:c});if(e)throw e;x.toast.success("Password updated successfully"),o(""),d(""),m("")}catch(e){console.error("Error updating password:",e),x.toast.error(e.message||"Failed to update password")}finally{M(!1)}};if(!e)return null;let W=[{id:"password",label:H("settings.security"),icon:g},{id:"notifications",label:H("settings.notifications"),icon:y.Bell},{id:"appearance",label:H("settings.appearance"),icon:v}];return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,s.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 fade-in duration-200",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:H("settings.title")}),(0,s.jsx)("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100 transition-colors",children:(0,s.jsx)(l.X,{className:"w-5 h-5 text-slate-500"})})]}),(0,s.jsx)("div",{className:"flex border-b border-slate-100",children:W.map(e=>(0,s.jsxs)("button",{onClick:()=>i(e.id),className:`flex-1 py-4 px-4 text-sm font-bold flex items-center justify-center gap-2 transition-colors border-b-2 ${r===e.id?"text-orange-600 border-orange-500 bg-orange-50":"text-slate-400 border-transparent hover:text-slate-600"}`,children:[(0,s.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))}),(0,s.jsxs)("div",{className:"p-6",children:["password"===r&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:H("password.new")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:b?"text":"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 pr-12 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none",placeholder:H("password.new")}),(0,s.jsx)("button",{type:"button",onClick:()=>R(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b?(0,s.jsx)(k,{className:"w-5 h-5"}):(0,s.jsx)(w.Eye,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-2",children:H("password.confirm")}),(0,s.jsx)("input",{type:b?"text":"password",value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-100 outline-none",placeholder:H("password.confirm")})]}),(0,s.jsxs)("button",{onClick:K,disabled:T||!c||!p,className:"w-full py-3 rounded-xl bg-orange-500 text-white font-bold hover:bg-orange-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[T?(0,s.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(u.Check,{className:"w-4 h-4"}),H("password.update")]})]}),"notifications"===r&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(E,{label:"Email Notifications",description:"Receive important updates via email",checked:F.email,onChange:e=>L({...F,email:e})}),(0,s.jsx)(E,{label:"Approval Alerts",description:"Get notified when your status changes",checked:F.approvals,onChange:e=>L({...F,approvals:e})}),(0,s.jsx)(E,{label:"Platform Updates",description:"News about new features and changes",checked:F.updates,onChange:e=>L({...F,updates:e})}),(0,s.jsx)("p",{className:"text-xs text-slate-400 text-center pt-4",children:"Notification preferences are saved automatically"})]}),"appearance"===r&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-3",children:H("settings.language")}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsx)("button",{onClick:()=>$("en"),className:`p-3 rounded-xl border-2 transition-all flex items-center justify-center gap-2 ${"en"===z?"border-orange-500 bg-orange-50 text-orange-700 font-bold":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:"ðŸ‡ºðŸ‡¸ English"}),(0,s.jsx)("button",{onClick:()=>$("ru"),className:`p-3 rounded-xl border-2 transition-all flex items-center justify-center gap-2 ${"ru"===z?"border-orange-500 bg-orange-50 text-orange-700 font-bold":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:"ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹"}),(0,s.jsx)("button",{onClick:()=>$("kg"),className:`p-3 rounded-xl border-2 transition-all flex items-center justify-center gap-2 ${"kg"===z?"border-orange-500 bg-orange-50 text-orange-700 font-bold":"border-slate-200 text-slate-600 hover:border-slate-300"}`,children:"ðŸ‡°ðŸ‡¬ ÐšÑ‹Ñ€Ð³Ñ‹Ð·"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-3",children:H("settings.appearance")}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsx)(S,{label:H("theme.light"),active:!0,color:"bg-white"}),(0,s.jsx)(S,{label:H("theme.dark"),active:!1,color:"bg-slate-800"}),(0,s.jsx)(S,{label:H("theme.system"),active:!1,color:"bg-gradient-to-br from-white to-slate-800"})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,s.jsx)("p",{className:"text-xs text-slate-400 text-center",children:"More appearance options coming soon"})})]})]}),(0,s.jsx)("div",{className:"p-6 bg-red-50 border-t border-red-100",children:Q?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-red-100 rounded-xl",children:[(0,s.jsx)(N.AlertTriangle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-red-900 text-sm",children:"Delete Account Permanently?"}),(0,s.jsx)("p",{className:"text-xs text-red-700 mt-1",children:"This will permanently delete your account, all documents, essays, and application data. This action cannot be undone."})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-red-600 block mb-2",children:"Type DELETE to confirm"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>O(e.target.value),placeholder:"DELETE",className:"w-full px-4 py-3 rounded-xl border-2 border-red-200 focus:border-red-500 focus:ring-2 focus:ring-red-100 outline-none text-red-900"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{I(!1),O("")},className:"flex-1 py-3 rounded-xl border border-slate-200 font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{onClick:async()=>{if("DELETE"!==q)return void x.toast.error("Please type DELETE to confirm");P(!0);try{let{data:{user:e}}=await A.auth.getUser();if(!e)throw Error("Not authenticated");await A.from("essays").delete().eq("student_id",e.id),await A.from("documents").delete().eq("student_id",e.id),await A.from("student_universities").delete().eq("student_id",e.id),await A.from("profiles").delete().eq("id",e.id),await A.auth.signOut(),x.toast.success("Account deleted successfully"),D.push("/")}catch(e){console.error("Delete error:",e),x.toast.error(e.message||"Failed to delete account")}finally{P(!1)}},disabled:"DELETE"!==q||U,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[U?(0,s.jsx)(h.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(j.Trash2,{className:"w-4 h-4"}),"Delete Forever"]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>I(!0),className:"w-full py-3 rounded-xl border-2 border-red-200 text-red-600 font-bold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(j.Trash2,{className:"w-4 h-4"}),"Delete Account"]}),(0,s.jsx)("p",{className:"text-xs text-red-400 text-center mt-2",children:"This action cannot be undone"})]})})]})]})}function E({label:e,description:t,checked:r,onChange:a}){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-slate-800",children:e}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:t})]}),(0,s.jsx)("button",{onClick:()=>a(!r),className:`w-12 h-7 rounded-full transition-colors ${r?"bg-orange-500":"bg-slate-300"}`,children:(0,s.jsx)("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transition-transform ${r?"translate-x-6":"translate-x-1"}`})})]})}function S({label:e,active:t,color:r}){return(0,s.jsxs)("button",{className:`p-4 rounded-xl border-2 transition-all ${t?"border-orange-500 bg-orange-50":"border-slate-200 hover:border-slate-300"}`,children:[(0,s.jsx)("div",{className:`w-full h-8 rounded-lg ${r} border border-slate-200 mb-2`}),(0,s.jsx)("p",{className:`text-xs font-bold ${t?"text-orange-600":"text-slate-500"}`,children:e})]})}function T(){let[e,t]=(0,a.useState)(0),[r,s]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null),n=(0,f.createClient)(),o=(0,a.useCallback)(async()=>{try{let{data:{user:e}}=await n.auth.getUser();if(!e)return void s(!1);i(e.id);let{data:r,error:a}=await n.from("conversation_participants").select("conversation_id, last_read_at").eq("user_id",e.id);if(a||!r||0===r.length){t(0),s(!1);return}let l=0;for(let t of r){let{count:r,error:s}=await n.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",t.conversation_id).neq("sender_id",e.id).gt("created_at",t.last_read_at||"1970-01-01");!s&&r&&(l+=r)}t(l)}catch(e){console.error("Error fetching unread count:",e)}finally{s(!1)}},[n]),c=(0,a.useCallback)(async e=>{if(l)try{let{error:t}=await n.from("conversation_participants").update({last_read_at:new Date().toISOString()}).eq("conversation_id",e).eq("user_id",l);t||await o()}catch(e){console.error("Error marking conversation as read:",e)}},[n,l,o]);return(0,a.useEffect)(()=>{o()},[o]),(0,a.useEffect)(()=>{if(!l)return;let e=n.channel("unread-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async e=>{if(e.new.sender_id!==l){let{data:r}=await n.from("conversation_participants").select("conversation_id").eq("conversation_id",e.new.conversation_id).eq("user_id",l).single();r&&t(e=>e+1)}}).subscribe();return()=>{n.removeChannel(e)}},[n,l]),{unreadCount:e,loading:r,markConversationAsRead:c,refresh:o}}e.s(["default",()=>R],85280),e.s(["useUnreadMessageCount",()=>T],99357);var M=e.i(12598);e.i(66027),e.i(14272),e.i(40143);var Q=e.i(15823);e.i(19273),Q.Subscribable;let I=["student","profile"],q=["student","documents"],O=["student","essays"],U=["teacher","students"],P=["teacher","pendingStudents"];function F(){let e=(0,M.useQueryClient)(),t=(0,f.createClient)(),r=(0,a.useCallback)(async()=>{await e.prefetchQuery({queryKey:I,queryFn:async()=>{let{data:{user:e}}=await t.auth.getUser();if(!e)return null;let{data:r}=await t.from("profiles").select("*").eq("id",e.id).single();return r},staleTime:3e5})},[e,t]),s=(0,a.useCallback)(async()=>{await e.prefetchQuery({queryKey:q,queryFn:async()=>{let{data:{user:e}}=await t.auth.getUser();if(!e)return[];let{data:r}=await t.from("student_documents").select("*").eq("student_id",e.id).order("created_at",{ascending:!1});return r||[]},staleTime:3e5})},[e,t]),l=(0,a.useCallback)(async()=>{await e.prefetchQuery({queryKey:O,queryFn:async()=>{let{data:{user:e}}=await t.auth.getUser();if(!e)return[];let{data:r}=await t.from("essays").select("*").eq("student_id",e.id).order("updated_at",{ascending:!1});return r||[]},staleTime:3e5})},[e,t]),i=(0,a.useCallback)(async()=>{await e.prefetchQuery({queryKey:U,queryFn:async()=>{let{data:{user:e}}=await t.auth.getUser();if(!e)return[];let{data:r}=await t.from("profiles").select("*").eq("role","student").eq("teacher_id",e.id).order("created_at",{ascending:!1});return r||[]},staleTime:3e5})},[e,t]),n=(0,a.useCallback)(async()=>{await e.prefetchQuery({queryKey:P,queryFn:async()=>{let{data:{user:e}}=await t.auth.getUser();if(!e)return[];let{data:r}=await t.from("profiles").select("*").eq("role","student").eq("teacher_id",e.id).eq("approval_status","pending").order("created_at",{ascending:!1});return r||[]},staleTime:3e5})},[e,t]),o=(0,a.useCallback)(e=>{switch(e){case"profile":default:r();break;case"documents":s(),l();case"application":}},[r,s,l]),c=(0,a.useCallback)(e=>{switch(e){case"students":default:i();break;case"pending":n()}},[i,n]);return{prefetchStudentProfile:r,prefetchStudentDocuments:s,prefetchStudentEssays:l,prefetchTeacherStudents:i,prefetchPendingStudents:n,prefetchForStudentRoute:o,prefetchForTeacherRoute:c}}e.s(["usePrefetch",()=>F],71768),e.s(["ACTIVE_THEME",0,{name:"UniConsulting",primary:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},secondary:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843"},surface:{base:"#0f172a",elevated:"#1e293b",overlay:"#334155"},branding:{logoText:"UNI",logoIcon:"U",tagline:"Student Portal"}}],53336);let L=(0,t.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);e.s(["Menu",()=>L],92161)}]);