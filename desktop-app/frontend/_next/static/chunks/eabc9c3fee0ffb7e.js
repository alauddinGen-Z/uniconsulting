(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let a=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>a],61911)},56909,e=>{"use strict";let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},16715,e=>{"use strict";let a=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],16715)},46897,e=>{"use strict";let a=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},61659,e=>{"use strict";let a=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>a],61659)},7275,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(84614),l=e.i(61911),r=e.i(46897),o=e.i(61659),n=e.i(56909),i=e.i(31278),d=e.i(16715),c=e.i(90615),u=e.i(46696);function m({isLocked:e}){let[l,m]=(0,t.useState)({full_name:"",email:"",phone:"",date_of_birth:"",gender:"",nationality:"",passport_number:"",passport_expiry:"",home_address:"",city:"",country:""}),[h,x]=(0,t.useState)(!0),[p,b]=(0,t.useState)(!1),[f,g]=(0,t.useState)([]),[y,_]=(0,t.useState)(null),[v,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(""),[S,P]=(0,t.useState)(!1),q=(0,t.useRef)(!1),E=(0,c.createClient)();(0,t.useEffect)(()=>{q.current||(q.current=!0,U(),M());let e=()=>{console.log("Profile updated event received, reloading IdentityTab..."),U()};return window.addEventListener("profile-updated",e),()=>{window.removeEventListener("profile-updated",e)}},[]);let M=async()=>{let{data:e}=await E.from("profiles").select("id, full_name").eq("role","teacher").eq("approval_status","approved");g(e||[])},U=async()=>{let{data:{user:e}}=await E.auth.getUser();if(e){let{data:a}=await E.from("profiles").select("full_name, email, phone, date_of_birth, gender, nationality, passport_number, passport_expiry, home_address, city, country, teacher_id, teacher:teacher_id(full_name)").eq("id",e.id).single();a&&(m({full_name:a.full_name||"",email:a.email||e.email||"",phone:a.phone||"",date_of_birth:a.date_of_birth||"",gender:a.gender||"",nationality:a.nationality||"",passport_number:a.passport_number||"",passport_expiry:a.passport_expiry||"",home_address:a.home_address||"",city:a.city||"",country:a.country||""}),_(a.teacher_id),j(a.teacher?.full_name||"Not Assigned"))}x(!1)},F=async()=>{if(C){P(!0);try{let{data:{user:e}}=await E.auth.getUser();if(!e)throw Error("Not authenticated");let{error:a}=await E.from("profiles").update({teacher_id:C,approval_status:"pending"}).eq("id",e.id);if(a)throw a;if(y&&y!==C)try{let{data:a}=await E.from("conversation_participants").select("conversation_id").eq("user_id",e.id);if(a&&a.length>0){let e=a.map(e=>e.conversation_id),{data:t}=await E.from("conversation_participants").select("conversation_id").eq("user_id",y).in("conversation_id",e);if(t&&t.length>0)for(let e of t){let{data:a}=await E.from("conversation_participants").select("user_id").eq("conversation_id",e.conversation_id);a&&2===a.length&&(await E.from("messages").delete().eq("conversation_id",e.conversation_id),await E.from("conversation_participants").delete().eq("conversation_id",e.conversation_id),await E.from("conversations").delete().eq("id",e.conversation_id),console.log("Deleted old teacher conversation:",e.conversation_id))}}let{data:t,error:s}=await E.from("conversations").insert({type:"direct",teacher_id:C}).select().single();t&&!s&&(await E.from("conversation_participants").insert([{conversation_id:t.id,user_id:e.id},{conversation_id:t.id,user_id:C}]),console.log("Created new conversation with new teacher:",t.id))}catch(e){console.error("Error updating chat:",e)}let t=f.find(e=>e.id===C);_(C),j(t?.full_name||""),w(!1),k(""),u.toast.success("Teacher changed! Your account is now pending approval from the new teacher.")}catch(e){console.error("Error changing teacher:",e),u.toast.error("Failed to change teacher")}finally{P(!1)}}},L=(e,a)=>{m(t=>({...t,[e]:a}))},A=async()=>{b(!0);try{let{data:{user:e}}=await E.auth.getUser();if(!e)throw Error("Not authenticated");let a={...l,date_of_birth:l.date_of_birth||null,passport_expiry:l.passport_expiry||null},{error:t}=await E.from("profiles").update(a).eq("id",e.id);if(t)throw t;u.toast.success("Profile saved successfully!")}catch(e){console.error("Save error:",e),u.toast.error("Failed to save profile")}finally{b(!1)}};return h?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(s.User,{className:"w-5 h-5 text-blue-500"}),"Your Consultant"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:v?.charAt(0)||"?"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-slate-900",children:v}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Your assigned teacher/consultant"})]})]}),N?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("select",{value:C,onChange:e=>k(e.target.value),className:"px-4 py-2 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none text-sm",children:[(0,a.jsx)("option",{value:"",children:"Select new teacher"}),f.filter(e=>e.id!==y).map(e=>(0,a.jsx)("option",{value:e.id,children:e.full_name},e.id))]}),(0,a.jsx)("button",{onClick:F,disabled:!C||S,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:S?(0,a.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):"Confirm"}),(0,a.jsx)("button",{onClick:()=>{w(!1),k("")},className:"px-4 py-2 text-slate-600 text-sm font-medium rounded-xl hover:bg-slate-100 transition-colors",children:"Cancel"})]}):(0,a.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 bg-white rounded-xl border border-blue-200 hover:bg-blue-50 transition-colors",children:[(0,a.jsx)(d.RefreshCw,{className:"w-4 h-4"}),"Change Teacher"]})]}),N&&(0,a.jsx)("p",{className:"mt-3 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg",children:'⚠️ Changing your teacher will reset your account to "pending" status. The new teacher will need to approve you.'})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(s.User,{className:"w-5 h-5 text-orange-500"}),"Personal Information"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:l.full_name,onChange:e=>L("full_name",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:l.email,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 opacity-50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:l.phone,onChange:e=>L("phone",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"+1 234 567 8900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date of Birth"}),(0,a.jsx)("input",{type:"date",value:l.date_of_birth,onChange:e=>L("date_of_birth",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gender"}),(0,a.jsxs)("select",{value:l.gender,onChange:e=>L("gender",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",children:[(0,a.jsx)("option",{value:"",children:"Select gender"}),(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"other",children:"Other"}),(0,a.jsx)("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nationality"}),(0,a.jsx)("input",{type:"text",value:l.nationality,onChange:e=>L("nationality",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Your nationality"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.CreditCard,{className:"w-5 h-5 text-orange-500"}),"Passport Information"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Passport Number"}),(0,a.jsx)("input",{type:"text",value:l.passport_number,onChange:e=>L("passport_number",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"AB1234567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Passport Expiry"}),(0,a.jsx)("input",{type:"date",value:l.passport_expiry,onChange:e=>L("passport_expiry",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(r.MapPin,{className:"w-5 h-5 text-orange-500"}),"Address"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Home Address"}),(0,a.jsx)("input",{type:"text",value:l.home_address,onChange:e=>L("home_address",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Street address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,a.jsx)("input",{type:"text",value:l.city,onChange:e=>L("city",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"City"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,a.jsx)("input",{type:"text",value:l.country,onChange:e=>L("country",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Country"})]})]})]}),!e&&(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsx)("button",{onClick:A,disabled:p,className:"btn-primary px-8 py-3 flex items-center gap-2 disabled:opacity-50",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Save,{className:"w-5 h-5"}),"Save Changes"]})})})]})}var h=e.i(43432);function x({isLocked:e}){let[r,o]=(0,t.useState)({mother_full_name:"",mother_occupation:"",mother_phone:"",mother_email:"",father_full_name:"",father_occupation:"",father_phone:"",father_email:"",number_of_siblings:null,siblings_info:"",emergency_contact_name:"",emergency_contact_phone:"",family_notes:""}),[d,m]=(0,t.useState)(!0),[x,p]=(0,t.useState)(!1),b=(0,c.createClient)();(0,t.useEffect)(()=>{(async()=>{let{data:{user:e}}=await b.auth.getUser();if(e){let{data:a}=await b.from("profiles").select("mother_full_name, mother_occupation, mother_phone, mother_email, father_full_name, father_occupation, father_phone, father_email, number_of_siblings, siblings_info, emergency_contact_name, emergency_contact_phone, family_notes").eq("id",e.id).single();a&&o({mother_full_name:a.mother_full_name||"",mother_occupation:a.mother_occupation||"",mother_phone:a.mother_phone||"",mother_email:a.mother_email||"",father_full_name:a.father_full_name||"",father_occupation:a.father_occupation||"",father_phone:a.father_phone||"",father_email:a.father_email||"",number_of_siblings:a.number_of_siblings,siblings_info:a.siblings_info||"",emergency_contact_name:a.emergency_contact_name||"",emergency_contact_phone:a.emergency_contact_phone||"",family_notes:a.family_notes||""})}m(!1)})()},[b]);let f=(e,a)=>{o(t=>({...t,[e]:a}))},g=async()=>{p(!0);try{let{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Not authenticated");let{error:a}=await b.from("profiles").update(r).eq("id",e.id);if(a)throw a;u.toast.success("Family information saved!")}catch(e){console.error("Save error:",e),u.toast.error("Failed to save")}finally{p(!1)}};return d?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(s.User,{className:"w-5 h-5 text-pink-500"}),"Mother's Information"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:r.mother_full_name,onChange:e=>f("mother_full_name",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Mother's full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Occupation"}),(0,a.jsx)("input",{type:"text",value:r.mother_occupation,onChange:e=>f("mother_occupation",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Occupation"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:r.mother_phone,onChange:e=>f("mother_phone",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"+1 234 567 8900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:r.mother_email,onChange:e=>f("mother_email",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"email@example.com"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(s.User,{className:"w-5 h-5 text-blue-500"}),"Father's Information"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:r.father_full_name,onChange:e=>f("father_full_name",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Father's full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Occupation"}),(0,a.jsx)("input",{type:"text",value:r.father_occupation,onChange:e=>f("father_occupation",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Occupation"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:r.father_phone,onChange:e=>f("father_phone",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"+1 234 567 8900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:r.father_email,onChange:e=>f("father_email",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"email@example.com"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(l.Users,{className:"w-5 h-5 text-green-500"}),"Siblings"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Number of Siblings"}),(0,a.jsx)("input",{type:"number",min:"0",value:r.number_of_siblings??"",onChange:e=>f("number_of_siblings",e.target.value?parseInt(e.target.value):null),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"0"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Siblings Information"}),(0,a.jsx)("textarea",{value:r.siblings_info,onChange:e=>f("siblings_info",e.target.value),disabled:e,rows:3,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50 resize-none",placeholder:"Names, ages, and education status of siblings..."})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(h.Phone,{className:"w-5 h-5 text-red-500"}),"Emergency Contact"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contact Name"}),(0,a.jsx)("input",{type:"text",value:r.emergency_contact_name,onChange:e=>f("emergency_contact_name",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"Emergency contact name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contact Phone"}),(0,a.jsx)("input",{type:"tel",value:r.emergency_contact_phone,onChange:e=>f("emergency_contact_phone",e.target.value),disabled:e,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50",placeholder:"+1 234 567 8900"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Additional Notes"}),(0,a.jsx)("textarea",{value:r.family_notes,onChange:e=>f("family_notes",e.target.value),disabled:e,rows:4,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 outline-none disabled:opacity-50 disabled:bg-slate-50 resize-none",placeholder:"Any additional family information relevant to your application..."})]}),!e&&(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsx)("button",{onClick:g,disabled:x,className:"btn-primary px-8 py-3 flex items-center gap-2 disabled:opacity-50",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Save,{className:"w-5 h-5"}),"Save Changes"]})})})]})}function p({isLocked:e}){let[r,o]=(0,t.useState)("identity"),n=[{id:"identity",label:"Identity",icon:s.User},{id:"family",label:"Family",icon:l.Users}];return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-none bg-gradient-to-r from-orange-50/80 to-pink-50/80 backdrop-blur-sm sticky top-0 z-20 -mx-6 lg:-mx-8 px-6 lg:px-8 py-4 border-b border-slate-100/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-2xl flex items-center justify-center text-orange-600 shadow-sm",children:(0,a.jsx)(s.User,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Profile"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Your personal and family information"})]})]}),(0,a.jsx)("div",{className:"flex gap-1 p-1 bg-white rounded-2xl shadow-lg shadow-slate-200/50 border border-slate-100",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>o(e.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-all duration-200 ${r===e.id?"bg-orange-500 text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[(0,a.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))})]})}),(0,a.jsxs)("div",{className:"flex-1 pt-6 overflow-y-auto",children:["identity"===r&&(0,a.jsx)("div",{className:"bg-white rounded-3xl p-6 lg:p-8 shadow-xl shadow-slate-200/50 border border-slate-100",children:(0,a.jsx)(m,{isLocked:e})}),"family"===r&&(0,a.jsx)("div",{className:"bg-white rounded-3xl p-6 lg:p-8 shadow-xl shadow-slate-200/50 border border-slate-100",children:(0,a.jsx)(x,{isLocked:e})})]})]})}var b=e.i(3038);function f(){let{profile:e}=(0,b.useStudentData)(),t=e?.approval_status==="pending"||e?.approval_status==="rejected";return(0,a.jsx)(p,{isLocked:t})}e.s(["default",()=>f],7275)}]);