# Electron Builder - Teacher Version
# Full build with Python automation engine

appId: com.uniconsulting.teacher
productName: UniConsulting Teacher
copyright: Copyright Â© 2024 UniConsulting

directories:
  output: dist
  buildResources: assets

# Include all files
files:
  - main.js
  - preload.js
  - splash.html
  - frontend/**/*

# Include Python engine for automation
extraResources:
  - from: python/dist/engine
    to: engine
    filter:
      - "**/*"
  # Include browser-use automation service
  - from: automation-service
    to: automation-service
    filter:
      - main.py
      - agent.py
      - requirements.txt
      - "*.py"
  # Include portable Python (for machines without Python installed)
  - from: python-embedded
    to: python-embedded
    filter:
      - "**/*"

protocols:
  - name: UniConsulting Teacher
    schemes:
      - uniconsulting-teacher

win:
  target:
    - target: nsis
      arch:
        - x64
  icon: assets/icon.ico
  artifactName: UniConsulting-Teacher-Setup-${version}.${ext}

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  perMachine: true
  installerIcon: assets/icon.ico
  uninstallerIcon: assets/icon.ico
  installerHeaderIcon: assets/icon.ico
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: UniConsulting Teacher
  runAfterFinish: true

mac:
  target: dmg
  icon: assets/icon.icns
  category: public.app-category.education
  artifactName: UniConsulting-Teacher-${version}.${ext}

linux:
  target: AppImage
  icon: assets/icon.png
  category: Education
  artifactName: UniConsulting-Teacher-${version}.${ext}

publish:
  provider: github
  owner: alauddinGen-Z
  repo: uniconsulting

# Environment variable for feature flags
extraMetadata:
  appMode: teacher
